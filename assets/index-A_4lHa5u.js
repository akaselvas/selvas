(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))e(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&e(a)}).observe(document,{childList:!0,subtree:!0});function r(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function e(n){if(n.ep)return;n.ep=!0;const i=r(n);fetch(n.href,i)}})();const N=function(){let o,t,r,e,n=0,i=0,a=0,s=!1;function l(){return o=document.querySelector(".header"),t=document.body,r=o?o.querySelector(".main-nav"):null,e=o?o.querySelector(".container"):null,o?(setTimeout(()=>{m(),c(),window.addEventListener("scroll",p,{passive:!0})},0),window.addEventListener("resize",()=>{m(),c()}),!0):(console.error("Header element not found."),!1)}function m(){if(!o)return;o.style.height="",o.classList.remove("is-fixed","is-shrinking"),n=o.offsetHeight;const d=getComputedStyle(document.documentElement).getPropertyValue("--header-height-final");i=parseInt(d,10)||55,document.documentElement.style.setProperty("--header-height-initial",`${n}px`),a=n-i,console.log(`Initial Header Height: ${n}px`),console.log(`Final Header Height: ${i}px`),console.log(`Shrink Distance: ${a}px`),o.style.height=`${n}px`}function c(){if(!o||!r||!e)return;const d=window.scrollY,f=Math.min(d,a)/a,v=n-(n-i)*f;o.style.height=`${v}px`,r.style.transform=`translateY(${10-10*f}px)`,e.style.alignItems="flex-start",o.classList.remove("is-shrinking","is-fixed"),t.classList.add("body-padding-active"),o.style.position="fixed",o.style.top="0"}function p(){s||(window.requestAnimationFrame(()=>{c(),s=!1}),s=!0)}return{init:l}}(),M=function(){let o,t,r,e,n,i,a,s,l;const m={Everything:{light:"We find the artfulness",bold:"in your brand"},"Web Design":{light:"We craft the journey",bold:"of your online presence"},Poster:{light:"We highlight the impact",bold:"of your visual"},"Album Cover":{light:"We visualize the sound",bold:"of your music"},"Brand Identity":{light:"We define the essence",bold:"of your business"},"Projection Mapping":{light:"We transform the space",bold:"with your vision"},Products:{light:"We enhance the appeal",bold:"of your offerings"},Book:{light:"We design the experience",bold:"of your story"},Illustration:{light:"We visualize the concept",bold:"through your lines"}},c={Everything:"*","Web Design":".web-design",Poster:".poster","Album Cover":".album-cover","Brand Identity":".brand-identity","Projection Mapping":".projection-mapping",Products:".products",Book:".book",Illustration:".illustration"};function p(g,y){return o=document.querySelector(".filter-bar"),t=document.querySelector(".filter-dropdown .filter-btn"),r=t?t.querySelector(".plus"):null,e=document.querySelector(".filter-options > .filter-btn:not(.filter-dropdown .filter-btn)"),n=document.querySelector(".hero-text"),i=n?n.querySelector(".light-text"):null,a=n?n.querySelector(".bold-text"):null,l=document.querySelector(".hero"),o?(l||console.error("Hero section element not found. Cannot calculate sticky threshold."),d(),s?(u(),f(g,y),!0):(console.error("Expanded menu could not be created."),!1)):(console.error("Filter bar element not found."),!1)}function d(){if(s){console.log("Expanded menu already exists.");return}if(s=document.querySelector(".expanded-menu"),s){console.log("Expanded menu found in DOM.");return}if(o){s=document.createElement("div"),s.className="expanded-menu";const g=document.createElement("div");g.className="category-grid",Object.keys(m).forEach(h=>{const b=document.createElement("a");b.href="#",b.textContent=h,b.className="category-link",b.dataset.filter=c[h]||"*",h==="Everything"&&b.classList.add("active"),g.appendChild(b)}),s.appendChild(g);const y=o.querySelector(".container");y?y.appendChild(s):o.appendChild(s),console.log("Expanded menu created and appended.")}else console.error("Cannot create expanded menu: filterBar not found.")}function u(){t&&s&&r?(t.addEventListener("click",function(g){g.preventDefault(),console.log("Type of Work button clicked."),s.classList.toggle("active"),t.classList.toggle("active-state"),s.classList.contains("active")?(r.classList.add("rotated"),console.log("Menu opened, adding .rotated to plus.")):t.matches(":hover")?console.log("Menu closed by click, but mouse is still hovering."):(r.classList.remove("rotated"),console.log("Menu closed by click, removing .rotated."))}),t.addEventListener("mouseenter",function(){s.classList.contains("active")||(r.classList.add("rotated"),console.log("Hovering (menu closed), adding .rotated."))}),t.addEventListener("mouseleave",function(){s.classList.contains("active")||(r.classList.remove("rotated"),console.log("Mouse left (menu closed), removing .rotated."))}),console.log("Filter button listeners attached.")):(t||console.error("'.filter-dropdown .filter-btn' not found."),r||console.error("'.plus' element inside filter button not found."),s||console.error("'.expanded-menu' not found."),console.error("Could not attach listeners for 'Type of Work' button due to missing elements."))}function f(g,y){if(!s){console.error("Cannot attach category listeners: expandedMenu not found.");return}const h=s.querySelectorAll(".category-link");console.log(`Found ${h.length} category links to attach listeners.`),h.forEach(b=>{b.hasAttribute("data-listener-attached")||(b.addEventListener("click",function(w){w.preventDefault(),v(this,g,y)}),b.setAttribute("data-listener-attached","true"))})}function v(g,y,h){if(!y||!y.isInitialized()){console.warn("Isotope not ready, filter click ignored.");return}const b=s.querySelectorAll(".category-link");console.log(`Filter clicked: ${g.textContent}`),b.forEach(L=>L.classList.remove("active")),g.classList.add("active");const w=g.dataset.filter,x=g.textContent;s&&s.classList.contains("active")&&(s.classList.remove("active"),console.log("Closing expanded menu.")),t&&t.classList.contains("active-state")&&(t.classList.remove("active-state"),console.log("Removing active-state from filter button.")),r&&r.classList.contains("rotated")&&!t.matches(":hover")&&(r.classList.remove("rotated"),console.log("Removing rotated class from plus after click and mouseleave.")),e&&(e.textContent=x==="Everything"?"EVERYTHING":x.toUpperCase(),x==="Everything"?e.classList.add("active"):e.classList.remove("active")),y.applyFilter(w);const I=document.querySelector(".portfolio"),A=document.querySelector(".header");if(I&&o&&A&&l){const L=getComputedStyle(document.documentElement).getPropertyValue("--header-height-final"),E=parseFloat(L)||60,C=l.offsetTop+l.offsetHeight-E;if(console.log(`Sticky threshold calculated at: ${C}px`),console.log(`Current scroll position: ${window.scrollY}px`),window.scrollY>=C){console.log("Current scroll is at or past sticky threshold. Performing scroll.");const q=o.offsetHeight,P=E+q,B=I.getBoundingClientRect().top,z=window.scrollY,T=B+z-P;window.scrollTo({top:Math.max(0,T),behavior:"smooth"}),console.log(`Scrolling to position: ${Math.max(0,T)}`)}else console.log("Current scroll is above sticky threshold. No automatic scroll performed.")}else console.warn("Could not find portfolio section, filter bar, header, or hero section to perform conditional scroll after filter.");n&&i&&a&&h&&(console.log("Animating hero text."),n.classList.add("animate-out"),setTimeout(()=>{const L=m[x]||m.Everything;i.textContent=L.light,a.textContent=L.bold,h.splitText(i),h.splitText(a),n.classList.remove("animate-out"),n.classList.add("animate-in"),setTimeout(()=>n.classList.remove("animate-in"),1500)},750))}return{init:p,getActiveFilter:function(){var g;return s&&((g=s.querySelector(".category-link.active"))==null?void 0:g.dataset.filter)||"*"}}}(),S=function(){let o,t,r=[],e,n=9,i=!1;function a(){return o=document.querySelector(".portfolio-grid"),o?typeof Isotope!="function"?(console.error("Isotope library not loaded or not a function."),!1):(window.addEventListener("portfolioItemsLoaded",s),console.log("IsotopeManager: Initialized and waiting for 'portfolioItemsLoaded' event."),!0):(console.error("Portfolio grid container not found."),!1)}function s(){if(i){console.log("IsotopeManager: Setup already run.");return}if(console.log("IsotopeManager: 'portfolioItemsLoaded' event received, running setup."),!o||typeof Isotope!="function"){console.error("Isotope cannot initialize. Grid or Isotope library missing.");return}r=Array.from(o.querySelectorAll(".isotope-item"));const d=r.length;if(console.log(`IsotopeManager: Found ${d} isotope items dynamically.`),d===0){console.warn("No portfolio items found to initialize Isotope with.");return}r.forEach((u,f)=>{f>=n?u.classList.add("hidden"):u.classList.remove("hidden")}),t=new Isotope(o,{itemSelector:".isotope-item",layoutMode:"masonry",percentPosition:!0,masonry:{columnWidth:".grid-sizer",gutter:0},transitionDuration:"0.6s",visibleStyle:{opacity:1,transform:"scale(1)"},hiddenStyle:{opacity:0,transform:"scale(0.001)"},filter:u=>!u.classList.contains("hidden")}),imagesLoaded(o).on("always",function(){i?(t.layout(),console.log("IsotopeManager: imagesLoaded 'always' fired again, relayout performed.")):(t.layout(),console.log("IsotopeManager: Initial layout complete and images loaded/failed for the first batch."),window.dispatchEvent(new CustomEvent("isotopeFirstLayoutDone")),console.log("IsotopeManager: 'isotopeFirstLayoutDone' event dispatched."),i=!0,l(),c(),console.log("IsotopeManager: Isotope fully initialized and ready signal sent."))}),console.log("IsotopeManager: Isotope initialized successfully."),i=!0,l(),c()}function l(){const d=document.querySelector(".load-more-container");if(!d&&o.parentNode){const u=document.createElement("div");u.className="load-more-container",e=document.createElement("button"),e.className="load-more-btn filter-btn btn-icon-underline",e.innerHTML=`
                LOAD  MORE
                <span class="plus" aria-hidden="true">
                    <svg viewBox="0 0 24 24" class="plus-icon" xmlns="http://www.w3.org/2000/svg">
                      <line x1="12" y1="5" x2="12" y2="19" />
                      <line x1="5" y1="12" x2="19" y2="12" />
                    </svg>
                </span>
            `,e.addEventListener("click",m),e.setAttribute("data-listener-attached","true"),u.appendChild(e);const f=o.closest(".portfolio");f&&f.parentNode?f.parentNode.insertBefore(u,f.nextSibling):(o.parentNode.insertBefore(u,o.nextSibling),console.warn("Could not find .portfolio section, inserting load more button relative to grid parent.")),console.log("Load More button created.")}else d?(e=d.querySelector(".load-more-btn"),e&&!e.hasAttribute("data-listener-attached")&&(e.addEventListener("click",m),e.setAttribute("data-listener-attached","true"),e.classList.contains("filter-btn")||e.classList.add("filter-btn"),e.classList.contains("btn-icon-underline")||e.classList.add("btn-icon-underline"),e.querySelector(".plus")||(e.innerHTML=`
                        LOAD MORE
                        <span class="plus" aria-hidden="true">
                            <svg viewBox="0 0 24 24" class="plus-icon" xmlns="http://www.w3.org/2000/svg">
                              <line x1="12" y1="5" x2="12" y2="19" />
                              <line x1="5" y1="12" x2="19" y2="12" />
                            </svg>
                        </span>
                    `)),console.log("Load More button found.")):console.error("Could not find parent node for portfolio grid/section to attach Load More button.")}function m(){if(!t)return;console.log("Load More clicked.");const d=window.filterMenu,u=d?d.getActiveFilter():"*";let f=0;r.filter(g=>(u==="*"||g.matches(u))&&g.classList.contains("hidden")).slice(0,n).forEach(g=>{g.classList.remove("hidden"),f++}),console.log(`Showing ${f} more items.`),f>0&&(t.arrange({filter:g=>!g.classList.contains("hidden")}),imagesLoaded(o).on("progress",function(){t.layout()})),r.filter(g=>(u==="*"||g.matches(u))&&!g.classList.contains("hidden")).length,c()}function c(){if(!e||!t)return;const d=window.filterMenu,u=d?d.getActiveFilter():"*",f=r.filter(g=>u==="*"||g.matches(u)).length;r.filter(g=>(u==="*"||g.matches(u))&&!g.classList.contains("hidden")).length>=f?(e.style.display="none",console.log("Hiding Load More button.")):(e.style.display="inline-block",console.log("Showing Load More button."))}function p(d){if(!t){console.warn("Isotope not ready, cannot apply filter.");return}console.log(`Arranging Isotope for filter: ${d}`),r.forEach(f=>f.classList.add("hidden"));const u=r.filter(f=>d==="*"||f.matches(d));u.slice(0,n).forEach(f=>f.classList.remove("hidden")),u.slice(0,n).length,t.arrange({filter:f=>!f.classList.contains("hidden")}),c()}return{init:a,applyFilter:p,isInitialized:function(){return i&&t!==void 0},getIsotope:function(){return t},refreshLayout:function(){t&&t.layout()}}}(),k=function(){function o(){const e=document.querySelector(".hero-text"),n=e?e.querySelector(".light-text"):null,i=e?e.querySelector(".bold-text"):null;return e?(n&&t(n),i&&t(i),console.log("Initial hero text split."),!0):(console.warn("Hero text elements not found for text animation."),!1)}function t(e){if(!e)return;const i=e.textContent.split(" ").filter(a=>a.length>0);e.innerHTML="",i.forEach((a,s)=>{const l=document.createElement("span");l.className="split",l.textContent=a,e.appendChild(l),s<i.length-1&&e.appendChild(document.createTextNode(" "))})}function r(e,n,i,a,s){!e||!n||!i||(e.classList.add("animate-out"),setTimeout(()=>{n.textContent=a,i.textContent=s,t(n),t(i),e.classList.remove("animate-out"),e.classList.add("animate-in"),setTimeout(()=>e.classList.remove("animate-in"),1500)},750))}return{init:o,splitText:t,animateTextChange:r}}(),F=function(){let o,t;function r(n){return o=document.querySelector(".portfolio-grid"),t=o?o.querySelector(".loading-indicator"):null,o?(e(n),!0):(console.error("Portfolio grid container not found."),!1)}async function e(n){if(!o){console.error("Portfolio grid container not found.");return}const i="/selvas/";try{const a=await fetch(`${i}portfolio-data.json`);if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);let s=await a.json();s=s.map(l=>(l.imgSrc&&!l.imgSrc.startsWith("http")&&!l.imgSrc.startsWith(i)&&(l.imgSrc=`${i}${l.imgSrc.startsWith("/")?"":"/"}${l.imgSrc}`),l.lightboxImageSrc&&!l.lightboxImageSrc.startsWith("http")&&!l.lightboxImageSrc.startsWith(i)&&(l.lightboxImageSrc=`${i}${l.lightboxImageSrc.startsWith("/")?"":"/"}${l.lightboxImageSrc}`),l)),t&&t.remove(),s.forEach(l=>{const m=document.createElement("div");m.className=`portfolio-item isotope-item ${l.categorySlug}`,m.dataset.lightboxType=l.lightboxType||"expand",m.dataset.imgSrc=l.imgSrc,m.dataset.lightboxImageSrc=l.lightboxImageSrc||l.imgSrc,m.dataset.altText=l.altText||l.title;const c=document.createElement("div");c.className="portfolio-image-container";const p=document.createElement("div");if(p.className="portfolio-image",l.imgSrc&&l.imgSrc.trim()!==""){const h=document.createElement("img");h.src=l.imgSrc,h.alt=l.altText||l.title,h.loading="lazy",p.appendChild(h)}else{const h=document.createElement("div");h.style.backgroundColor=l.bgColor||"#cccccc",h.style.width="100%",h.style.aspectRatio="16 / 9",h.style.display="block",p.appendChild(h)}const d=document.createElement("div");d.className="portfolio-item-overlays";const u=document.createElement("div");u.className="portfolio-item-overlay overlay-expand",u.textContent="Zoom";const f=document.createElement("div");f.className="portfolio-item-overlay overlay-see-more",f.textContent="See More",l.lightboxType==="seemore"?u.style.display="none":f.style.display="none",d.appendChild(u),d.appendChild(f),c.appendChild(p),c.appendChild(d);const v=document.createElement("h3");v.textContent=l.title;const g=document.createElement("p");g.textContent=l.category;const y=document.createElement("div");y.className="portfolio-info",y.appendChild(v),y.appendChild(g),m.appendChild(c),m.appendChild(y),o.appendChild(m)}),console.log("PortfolioLoader: Portfolio items appended to DOM."),window.dispatchEvent(new Event("portfolioItemsLoadedAndLightboxDataReady")),n&&window.dispatchEvent(new Event("portfolioItemsLoaded"))}catch(a){console.error("PortfolioLoader: Could not load portfolio data or process items:",a);const s=o.querySelector(".loading-indicator");if(s)s.textContent="Error loading portfolio items.";else if(o.querySelectorAll(".isotope-item").length===0){const l=document.createElement("div");l.style.color="red",l.style.textAlign="center",l.style.width="100%",l.style.padding="40px",l.textContent="Error loading portfolio items.",o.appendChild(l)}}}return{init:r}}(),D={init:function(){const o=document.querySelector(".about-us .about-accordion");if(!o)return!1;const t=o.querySelectorAll(".accordion-item");if(t.length===0)return!1;const r=1200;return t.forEach(e=>{const n=e.querySelector(".accordion-header");if(!n){console.warn("Accordion item missing header:",e);return}let i=null;n.addEventListener("click",()=>{const a=e.classList.contains("active");i&&(clearTimeout(i),i=null,e.classList.remove("is-closing")),a?(e.classList.add("is-closing"),e.classList.remove("active"),i=setTimeout(()=>{e.classList.remove("is-closing"),i=null},r)):(e.classList.remove("is-closing"),e.classList.add("active"))})}),!0}},$=function(){function o(){const r=document.querySelectorAll('.main-nav a[href^="#"]');return document.querySelector(".header")?r.length===0?(console.warn("Smooth scroll init: No navigation links starting with '#' found."),!1):(r.forEach(n=>{n.addEventListener("click",function(i){i.preventDefault();const a=this.getAttribute("href"),s=document.querySelector(a);s?t(s):console.warn(`Smooth scroll: Target element "${a}" not found.`)})}),console.log("Smooth scrolling initialized for nav links."),!0):(console.error("Smooth scroll init: Header element not found."),!1)}function t(r,e){const n=getComputedStyle(document.documentElement).getPropertyValue("--header-height-final"),i=parseFloat(n)||60,s=r.offsetTop-i- -1;window.scrollTo({top:s<0?0:s,behavior:"smooth"})}return{init:o,scrollToTarget:t}}(),j=(()=>{let t=!1,r;const n=["https://cdnjs.cloudflare.com/ajax/libs/three.js/r77/three.min.js","https://cdnjs.cloudflare.com/ajax/libs/gsap/1.18.4/TweenMax.min.js","https://s3-us-west-2.amazonaws.com/s.cdpn.io/175711/bas.js","https://s3-us-west-2.amazonaws.com/s.cdpn.io/175711/OrbitControls-2.js","/selvas/script.js"];function i(c,p){return new Promise((d,u)=>{if(document.querySelector(`script[src="${c}"]`)){d();return}const f=document.createElement("script");f.src=c,f.onload=()=>{console.log(`Script loaded: ${c}`),d()},f.onerror=()=>{console.error(`Error loading script: ${c}`),u(new Error(`Failed to load script: ${c}`))},p.appendChild(f)})}async function a(){if(t)return;const c=document.getElementById("threejs-container");if(!c){console.error("Three.js container not found.");return}console.log("Loading Three.js scripts for desktop...");try{for(const p of n)await i(p,c);t=!0,console.log("All Three.js scripts loaded and initialized.")}catch(p){console.error("Failed to load one or more Three.js scripts:",p)}}function s(){const c=document.getElementById("mobile-carousel-container");if(!c)return;const p=c.querySelectorAll(".carousel-slide");if(p.length===0)return;let d=0;p.forEach(f=>f.classList.remove("active")),p[d].classList.add("active");function u(){p[d].classList.remove("active"),d=(d+1)%p.length,p[d].classList.add("active")}r&&clearInterval(r),r=setInterval(u,2e4),console.log("Mobile carousel initialized.")}function l(){const c=document.getElementById("threejs-container"),p=document.getElementById("mobile-carousel-container"),d=document.querySelector(".hero .scroll-prompt");if(!c||!p){console.error("Hero background component containers not found.");return}window.innerWidth<=576?(console.log("Switching to mobile hero background (carousel)."),c.style.display="none",p.style.display="block",d&&(d.style.display="none"),s()):(console.log("Switching to desktop hero background (Three.js)."),p.style.display="none",r&&clearInterval(r),c.style.display="block",d&&(d.style.display="block"),t||a())}function m(){l();let c;return window.addEventListener("resize",()=>{clearTimeout(c),c=setTimeout(l,250)}),console.log("HeroBackgroundManager initialized."),!0}return{init:m}})(),H=(()=>{let o,t,r,e,n=!1,i;function a(){document.getElementById("portfolio-lightbox")||(o=document.createElement("div"),o.id="portfolio-lightbox",o.className="lightbox",r=document.createElement("div"),r.className="lightbox-content",e=document.createElement("button"),e.className="lightbox-close",e.innerHTML="×",e.setAttribute("aria-label","Close lightbox"),t=document.createElement("img"),t.className="lightbox-image",t.alt="Lightbox image",r.appendChild(t),o.appendChild(r),o.appendChild(e),document.body.appendChild(o),i=document.getElementById("page-content-wrapper"),i||console.warn('Lightbox: Element with ID "page-content-wrapper" not found. Background blur effect will not be applied.'),e.addEventListener("click",l),o.addEventListener("click",c=>{c.target===o&&l()}),document.addEventListener("keydown",c=>{c.key==="Escape"&&n&&l()}))}function s(c,p,d="expand"){if(o||a(),t.style.maxWidth="",t.style.maxHeight="",t.style.width="",t.style.height="",r.classList.remove("lightbox-content-scrollable"),o.classList.remove("lightbox-scrollable-wrapper"),t.src=c,t.alt=p||"Portfolio image detail",d==="seemore"&&(r.classList.add("lightbox-content-scrollable"),o.classList.add("lightbox-scrollable-wrapper")),document.body.classList.add("lightbox-open"),i&&i.classList.add("blurred"),n=!0,d==="seemore"){const u=o.classList.contains("lightbox-scrollable-wrapper")?o:r;u.scrollTop=0,u.scrollLeft=0}}function l(){!o||!n||(r&&r.classList.remove("lightbox-content-scrollable"),o.classList.remove("lightbox-scrollable-wrapper"),document.body.classList.remove("lightbox-open"),i&&i.classList.remove("blurred"),n=!1)}function m(){return o||a(),console.log("Lightbox initialized."),!0}return{init:m,open:s,close:l}})(),W={init:()=>{const t=document.getElementById("contact-form");if(!t)return!1;const r=document.getElementById("form-status-message");if(!r)return!1;const e=t.querySelector('button[type="submit"]');if(!e)return!1;const n=e.innerHTML;return t.addEventListener("submit",async function(i){i.preventDefault();const a=new FormData(t);e.disabled=!0;const s=e.querySelector(".plus-icon")?e.querySelector(".plus-icon").outerHTML:"";e.innerHTML=`
                Sending...
                <span class="plus" aria-hidden="true">
                    ${s}
                </span>`,e.classList.add("is-loading"),r.innerHTML="",r.className="";try{const l=await fetch(t.action,{method:t.method,body:a,headers:{Accept:"application/json"}});if(l.ok)r.innerHTML="Thank you! Your message has been sent successfully. We'll get back to you soon.",r.className="success",t.reset();else{const m=await l.json();let c="Oops! There was a problem submitting your form. Please try again.";m&&m.errors&&m.errors.length>0?c=m.errors.map(p=>p.message||p.field||"Error").join("<br>"):m&&m.error&&(c=m.error),r.innerHTML=c,r.className="error"}}catch(l){console.error("Form submission network error:",l),r.innerHTML="Oops! There was a network error. Please check your connection and try again.",r.className="error"}finally{e.disabled=!1,e.innerHTML=n,e.classList.remove("is-loading")}}),console.log("Contact Form module initialized successfully."),!0}};document.addEventListener("DOMContentLoaded",function(){console.log("DOM Content Loaded - Initializing modules...");const o=j.init();console.log("Hero Background Manager initialized:",o);const t=N.init();console.log("Header Scroll module initialized:",t);const r=k.init();console.log("Text Animator module initialized:",r);const e=S.init();console.log("Isotope Manager module initialized:",e),window.filterMenu=M;const n=M.init(S,k);console.log("Filter Menu module initialized:",n);const i=D.init();console.log("Accordion module initialized:",i);const a=F.init(S);console.log("Portfolio Loader module initialized:",a);const s=$.init();console.log("Smooth Scroll module initialized:",s);const l=H.init();console.log("Lightbox module initialized:",l);const m=W.init();console.log("Contact Form module initialized:",m),window.addEventListener("portfolioItemsLoadedAndLightboxDataReady",function(){console.log("Event: portfolioItemsLoadedAndLightboxDataReady received in main.js"),O()}),console.log("All primary modules initialized.")});function O(){const o=document.querySelectorAll(".portfolio-item");o.forEach(t=>{t.dataset.listenerAttached!=="true"&&(t.addEventListener("click",function(r){if(r.target.closest(".portfolio-info"))return;const e=this.dataset.lightboxType,n=this.dataset.imgSrc,i=this.dataset.lightboxImageSrc,a=this.dataset.altText;let s="";e==="expand"?s=n:e==="seemore"?s=i:s=n,s?H.open(s,a,e):console.warn("No image source found for lightbox for item:",this)}),t.dataset.listenerAttached="true")}),console.log(`Attached click listeners to ${o.length} portfolio items for lightbox.`)}window.addEventListener("load",function(){console.log("Window loaded - Finalizing initialization (if any needed)...")});
