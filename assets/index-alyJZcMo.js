(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))e(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&e(a)}).observe(document,{childList:!0,subtree:!0});function i(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function e(n){if(n.ep)return;n.ep=!0;const r=i(n);fetch(n.href,r)}})();const N=function(){let o,t,i,e,n=0,r=0,a=0,l=!1;function s(){return o=document.querySelector(".header"),t=document.body,i=o?o.querySelector(".main-nav"):null,e=o?o.querySelector(".container"):null,o?(setTimeout(()=>{g(),c(),window.addEventListener("scroll",p,{passive:!0})},0),window.addEventListener("resize",()=>{g(),c()}),!0):(console.error("Header element not found."),!1)}function g(){if(!o)return;o.style.height="",o.classList.remove("is-fixed","is-shrinking"),n=o.offsetHeight;const d=getComputedStyle(document.documentElement).getPropertyValue("--header-height-final");r=parseInt(d,10)||55,document.documentElement.style.setProperty("--header-height-initial",`${n}px`),a=n-r,console.log(`Initial Header Height: ${n}px`),console.log(`Final Header Height: ${r}px`),console.log(`Shrink Distance: ${a}px`),o.style.height=`${n}px`}function c(){if(!o||!i||!e)return;const d=window.scrollY,f=Math.min(d,a)/a,v=n-(n-r)*f;o.style.height=`${v}px`,i.style.transform=`translateY(${10-10*f}px)`,e.style.alignItems="flex-start",o.classList.remove("is-shrinking","is-fixed"),t.classList.add("body-padding-active"),o.style.position="fixed",o.style.top="0"}function p(){l||(window.requestAnimationFrame(()=>{c(),l=!1}),l=!0)}return{init:s}}(),M=function(){let o,t,i,e,n,r,a,l,s;const g={Everything:{light:"We find the artfulness",bold:"in your brand"},"Web Design":{light:"We craft the journey",bold:"of your online presence"},Poster:{light:"We highlight the impact",bold:"of your visual"},"Album Cover":{light:"We visualize the sound",bold:"of your music"},"Brand Identity":{light:"We define the essence",bold:"of your business"},"Projection Mapping":{light:"We transform the space",bold:"with your vision"},Products:{light:"We enhance the appeal",bold:"of your offerings"},Book:{light:"We design the experience",bold:"of your story"},Illustration:{light:"We visualize the concept",bold:"through your lines"}},c={Everything:"*","Web Design":".web-design",Poster:".poster","Album Cover":".album-cover","Brand Identity":".brand-identity","Projection Mapping":".projection-mapping",Products:".products",Book:".book",Illustration:".illustration"};function p(m,y){return o=document.querySelector(".filter-bar"),t=document.querySelector(".filter-dropdown .filter-btn"),i=t?t.querySelector(".plus"):null,e=document.querySelector(".filter-options > .filter-btn:not(.filter-dropdown .filter-btn)"),n=document.querySelector(".hero-text"),r=n?n.querySelector(".light-text"):null,a=n?n.querySelector(".bold-text"):null,s=document.querySelector(".hero"),o?(s||console.error("Hero section element not found. Cannot calculate sticky threshold."),d(),l?(u(),f(m,y),!0):(console.error("Expanded menu could not be created."),!1)):(console.error("Filter bar element not found."),!1)}function d(){if(l){console.log("Expanded menu already exists.");return}if(l=document.querySelector(".expanded-menu"),l){console.log("Expanded menu found in DOM.");return}if(o){l=document.createElement("div"),l.className="expanded-menu";const m=document.createElement("div");m.className="category-grid",Object.keys(g).forEach(h=>{const b=document.createElement("a");b.href="#",b.textContent=h,b.className="category-link",b.dataset.filter=c[h]||"*",h==="Everything"&&b.classList.add("active"),m.appendChild(b)}),l.appendChild(m);const y=o.querySelector(".container");y?y.appendChild(l):o.appendChild(l),console.log("Expanded menu created and appended.")}else console.error("Cannot create expanded menu: filterBar not found.")}function u(){t&&l&&i?(t.addEventListener("click",function(m){m.preventDefault(),console.log("Type of Work button clicked."),l.classList.toggle("active"),t.classList.toggle("active-state"),l.classList.contains("active")?(i.classList.add("rotated"),console.log("Menu opened, adding .rotated to plus.")):t.matches(":hover")?console.log("Menu closed by click, but mouse is still hovering."):(i.classList.remove("rotated"),console.log("Menu closed by click, removing .rotated."))}),t.addEventListener("mouseenter",function(){l.classList.contains("active")||(i.classList.add("rotated"),console.log("Hovering (menu closed), adding .rotated."))}),t.addEventListener("mouseleave",function(){l.classList.contains("active")||(i.classList.remove("rotated"),console.log("Mouse left (menu closed), removing .rotated."))}),console.log("Filter button listeners attached.")):(t||console.error("'.filter-dropdown .filter-btn' not found."),i||console.error("'.plus' element inside filter button not found."),l||console.error("'.expanded-menu' not found."),console.error("Could not attach listeners for 'Type of Work' button due to missing elements."))}function f(m,y){if(!l){console.error("Cannot attach category listeners: expandedMenu not found.");return}const h=l.querySelectorAll(".category-link");console.log(`Found ${h.length} category links to attach listeners.`),h.forEach(b=>{b.hasAttribute("data-listener-attached")||(b.addEventListener("click",function(w){w.preventDefault(),v(this,m,y)}),b.setAttribute("data-listener-attached","true"))})}function v(m,y,h){if(!y||!y.isInitialized()){console.warn("Isotope not ready, filter click ignored.");return}const b=l.querySelectorAll(".category-link");console.log(`Filter clicked: ${m.textContent}`),b.forEach(L=>L.classList.remove("active")),m.classList.add("active");const w=m.dataset.filter,x=m.textContent;l&&l.classList.contains("active")&&(l.classList.remove("active"),console.log("Closing expanded menu.")),t&&t.classList.contains("active-state")&&(t.classList.remove("active-state"),console.log("Removing active-state from filter button.")),i&&i.classList.contains("rotated")&&!t.matches(":hover")&&(i.classList.remove("rotated"),console.log("Removing rotated class from plus after click and mouseleave.")),e&&(e.textContent=x==="Everything"?"EVERYTHING":x.toUpperCase(),x==="Everything"?e.classList.add("active"):e.classList.remove("active")),y.applyFilter(w);const E=document.querySelector(".portfolio"),A=document.querySelector(".header");if(E&&o&&A&&s){const L=getComputedStyle(document.documentElement).getPropertyValue("--header-height-final"),I=parseFloat(L)||60,C=s.offsetTop+s.offsetHeight-I;if(console.log(`Sticky threshold calculated at: ${C}px`),console.log(`Current scroll position: ${window.scrollY}px`),window.scrollY>=C){console.log("Current scroll is at or past sticky threshold. Performing scroll.");const q=o.offsetHeight,P=I+q,B=E.getBoundingClientRect().top,z=window.scrollY,T=B+z-P;window.scrollTo({top:Math.max(0,T),behavior:"smooth"}),console.log(`Scrolling to position: ${Math.max(0,T)}`)}else console.log("Current scroll is above sticky threshold. No automatic scroll performed.")}else console.warn("Could not find portfolio section, filter bar, header, or hero section to perform conditional scroll after filter.");n&&r&&a&&h&&(console.log("Animating hero text."),n.classList.add("animate-out"),setTimeout(()=>{const L=g[x]||g.Everything;r.textContent=L.light,a.textContent=L.bold,h.splitText(r),h.splitText(a),n.classList.remove("animate-out"),n.classList.add("animate-in"),setTimeout(()=>n.classList.remove("animate-in"),1500)},750))}return{init:p,getActiveFilter:function(){var m;return l&&((m=l.querySelector(".category-link.active"))==null?void 0:m.dataset.filter)||"*"}}}(),S=function(){let o,t,i=[],e,n=9,r=!1;function a(){return o=document.querySelector(".portfolio-grid"),o?typeof Isotope!="function"?(console.error("Isotope library not loaded or not a function."),!1):(window.addEventListener("portfolioItemsLoaded",l),console.log("IsotopeManager: Initialized and waiting for 'portfolioItemsLoaded' event."),!0):(console.error("Portfolio grid container not found."),!1)}function l(){if(r){console.log("IsotopeManager: Setup already run.");return}if(console.log("IsotopeManager: 'portfolioItemsLoaded' event received, running setup."),!o||typeof Isotope!="function"){console.error("Isotope cannot initialize. Grid or Isotope library missing.");return}i=Array.from(o.querySelectorAll(".isotope-item"));const d=i.length;if(console.log(`IsotopeManager: Found ${d} isotope items dynamically.`),d===0){console.warn("No portfolio items found to initialize Isotope with.");return}i.forEach((u,f)=>{f>=n?u.classList.add("hidden"):u.classList.remove("hidden")}),t=new Isotope(o,{itemSelector:".isotope-item",layoutMode:"masonry",percentPosition:!0,masonry:{columnWidth:".grid-sizer",gutter:0},transitionDuration:"0.6s",visibleStyle:{opacity:1,transform:"scale(1)"},hiddenStyle:{opacity:0,transform:"scale(0.001)"},filter:u=>!u.classList.contains("hidden")}),imagesLoaded(o).on("always",function(){r?(t.layout(),console.log("IsotopeManager: imagesLoaded 'always' fired again, relayout performed.")):(t.layout(),console.log("IsotopeManager: Initial layout complete and images loaded/failed for the first batch."),window.dispatchEvent(new CustomEvent("isotopeFirstLayoutDone")),console.log("IsotopeManager: 'isotopeFirstLayoutDone' event dispatched."),r=!0,s(),c(),console.log("IsotopeManager: Isotope fully initialized and ready signal sent."))}),console.log("IsotopeManager: Isotope initialized successfully."),r=!0,s(),c()}function s(){const d=document.querySelector(".load-more-container");if(!d&&o.parentNode){const u=document.createElement("div");u.className="load-more-container",e=document.createElement("button"),e.className="load-more-btn filter-btn btn-icon-underline",e.innerHTML=`
                LOAD  MORE
                <span class="plus" aria-hidden="true">
                    <svg viewBox="0 0 24 24" class="plus-icon" xmlns="http://www.w3.org/2000/svg">
                      <line x1="12" y1="5" x2="12" y2="19" />
                      <line x1="5" y1="12" x2="19" y2="12" />
                    </svg>
                </span>
            `,e.addEventListener("click",g),e.setAttribute("data-listener-attached","true"),u.appendChild(e);const f=o.closest(".portfolio");f&&f.parentNode?f.parentNode.insertBefore(u,f.nextSibling):(o.parentNode.insertBefore(u,o.nextSibling),console.warn("Could not find .portfolio section, inserting load more button relative to grid parent.")),console.log("Load More button created.")}else d?(e=d.querySelector(".load-more-btn"),e&&!e.hasAttribute("data-listener-attached")&&(e.addEventListener("click",g),e.setAttribute("data-listener-attached","true"),e.classList.contains("filter-btn")||e.classList.add("filter-btn"),e.classList.contains("btn-icon-underline")||e.classList.add("btn-icon-underline"),e.querySelector(".plus")||(e.innerHTML=`
                        LOAD MORE
                        <span class="plus" aria-hidden="true">
                            <svg viewBox="0 0 24 24" class="plus-icon" xmlns="http://www.w3.org/2000/svg">
                              <line x1="12" y1="5" x2="12" y2="19" />
                              <line x1="5" y1="12" x2="19" y2="12" />
                            </svg>
                        </span>
                    `)),console.log("Load More button found.")):console.error("Could not find parent node for portfolio grid/section to attach Load More button.")}function g(){if(!t)return;console.log("Load More clicked.");const d=window.filterMenu,u=d?d.getActiveFilter():"*";let f=0;i.filter(m=>(u==="*"||m.matches(u))&&m.classList.contains("hidden")).slice(0,n).forEach(m=>{m.classList.remove("hidden"),f++}),console.log(`Showing ${f} more items.`),f>0&&(t.arrange({filter:m=>!m.classList.contains("hidden")}),imagesLoaded(o).on("progress",function(){t.layout()})),i.filter(m=>(u==="*"||m.matches(u))&&!m.classList.contains("hidden")).length,c()}function c(){if(!e||!t)return;const d=window.filterMenu,u=d?d.getActiveFilter():"*",f=i.filter(m=>u==="*"||m.matches(u)).length;i.filter(m=>(u==="*"||m.matches(u))&&!m.classList.contains("hidden")).length>=f?(e.style.display="none",console.log("Hiding Load More button.")):(e.style.display="inline-block",console.log("Showing Load More button."))}function p(d){if(!t){console.warn("Isotope not ready, cannot apply filter.");return}console.log(`Arranging Isotope for filter: ${d}`),i.forEach(f=>f.classList.add("hidden"));const u=i.filter(f=>d==="*"||f.matches(d));u.slice(0,n).forEach(f=>f.classList.remove("hidden")),u.slice(0,n).length,t.arrange({filter:f=>!f.classList.contains("hidden")}),c()}return{init:a,applyFilter:p,isInitialized:function(){return r&&t!==void 0},getIsotope:function(){return t},refreshLayout:function(){t&&t.layout()}}}(),k=function(){function o(){const e=document.querySelector(".hero-text"),n=e?e.querySelector(".light-text"):null,r=e?e.querySelector(".bold-text"):null;return e?(n&&t(n),r&&t(r),console.log("Initial hero text split."),!0):(console.warn("Hero text elements not found for text animation."),!1)}function t(e){if(!e)return;const r=e.textContent.split(" ").filter(a=>a.length>0);e.innerHTML="",r.forEach((a,l)=>{const s=document.createElement("span");s.className="split",s.textContent=a,e.appendChild(s),l<r.length-1&&e.appendChild(document.createTextNode(" "))})}function i(e,n,r,a,l){!e||!n||!r||(e.classList.add("animate-out"),setTimeout(()=>{n.textContent=a,r.textContent=l,t(n),t(r),e.classList.remove("animate-out"),e.classList.add("animate-in"),setTimeout(()=>e.classList.remove("animate-in"),1500)},750))}return{init:o,splitText:t,animateTextChange:i}}(),F=function(){let o,t;function i(n){return o=document.querySelector(".portfolio-grid"),t=o?o.querySelector(".loading-indicator"):null,o?(e(n),!0):(console.error("Portfolio grid container not found."),!1)}async function e(n){if(!o){console.error("Portfolio grid container not found.");return}try{const a=await fetch("/selvas/portfolio-data.json");if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const l=await a.json();t&&t.remove(),l.forEach(s=>{const g=document.createElement("div");g.className=`portfolio-item isotope-item ${s.categorySlug}`,g.dataset.lightboxType=s.lightboxType||"expand",g.dataset.imgSrc=s.imgSrc,g.dataset.lightboxImageSrc=s.lightboxImageSrc||s.imgSrc,g.dataset.altText=s.altText||s.title;const c=document.createElement("div");c.className="portfolio-image-container";const p=document.createElement("div");if(p.className="portfolio-image",s.imgSrc&&s.imgSrc.trim()!==""){const h=document.createElement("img");h.src=s.imgSrc,h.alt=s.altText||s.title,h.loading="lazy",p.appendChild(h)}else{const h=document.createElement("div");h.style.backgroundColor=s.bgColor||"#cccccc",h.style.width="100%",h.style.aspectRatio="16 / 9",h.style.display="block",p.appendChild(h)}const d=document.createElement("div");d.className="portfolio-item-overlays";const u=document.createElement("div");u.className="portfolio-item-overlay overlay-expand",u.textContent="Zoom";const f=document.createElement("div");f.className="portfolio-item-overlay overlay-see-more",f.textContent="See More",s.lightboxType==="seemore"?u.style.display="none":f.style.display="none",d.appendChild(u),d.appendChild(f),c.appendChild(p),c.appendChild(d);const v=document.createElement("h3");v.textContent=s.title;const m=document.createElement("p");m.textContent=s.category;const y=document.createElement("div");y.className="portfolio-info",y.appendChild(v),y.appendChild(m),g.appendChild(c),g.appendChild(y),o.appendChild(g)}),console.log("PortfolioLoader: Portfolio items appended to DOM."),window.dispatchEvent(new Event("portfolioItemsLoadedAndLightboxDataReady")),n&&window.dispatchEvent(new Event("portfolioItemsLoaded"))}catch(r){console.error("PortfolioLoader: Could not load portfolio data or process items:",r);const a=o.querySelector(".loading-indicator");if(a)a.textContent="Error loading portfolio items.";else if(o.querySelectorAll(".isotope-item").length===0){const l=document.createElement("div");l.style.color="red",l.style.textAlign="center",l.style.width="100%",l.style.padding="40px",l.textContent="Error loading portfolio items.",o.appendChild(l)}}}return{init:i}}(),D={init:function(){const o=document.querySelector(".about-us .about-accordion");if(!o)return!1;const t=o.querySelectorAll(".accordion-item");if(t.length===0)return!1;const i=1200;return t.forEach(e=>{const n=e.querySelector(".accordion-header");if(!n){console.warn("Accordion item missing header:",e);return}let r=null;n.addEventListener("click",()=>{const a=e.classList.contains("active");r&&(clearTimeout(r),r=null,e.classList.remove("is-closing")),a?(e.classList.add("is-closing"),e.classList.remove("active"),r=setTimeout(()=>{e.classList.remove("is-closing"),r=null},i)):(e.classList.remove("is-closing"),e.classList.add("active"))})}),!0}},j=function(){function o(){const i=document.querySelectorAll('.main-nav a[href^="#"]');return document.querySelector(".header")?i.length===0?(console.warn("Smooth scroll init: No navigation links starting with '#' found."),!1):(i.forEach(n=>{n.addEventListener("click",function(r){r.preventDefault();const a=this.getAttribute("href"),l=document.querySelector(a);l?t(l):console.warn(`Smooth scroll: Target element "${a}" not found.`)})}),console.log("Smooth scrolling initialized for nav links."),!0):(console.error("Smooth scroll init: Header element not found."),!1)}function t(i,e){const n=getComputedStyle(document.documentElement).getPropertyValue("--header-height-final"),r=parseFloat(n)||60,l=i.offsetTop-r- -1;window.scrollTo({top:l<0?0:l,behavior:"smooth"})}return{init:o,scrollToTarget:t}}(),O=(()=>{let t=!1,i;const n=["https://cdnjs.cloudflare.com/ajax/libs/three.js/r77/three.min.js","https://cdnjs.cloudflare.com/ajax/libs/gsap/1.18.4/TweenMax.min.js","https://s3-us-west-2.amazonaws.com/s.cdpn.io/175711/bas.js","https://s3-us-west-2.amazonaws.com/s.cdpn.io/175711/OrbitControls-2.js","/selvas/script.js"];function r(c,p){return new Promise((d,u)=>{if(document.querySelector(`script[src="${c}"]`)){d();return}const f=document.createElement("script");f.src=c,f.onload=()=>{console.log(`Script loaded: ${c}`),d()},f.onerror=()=>{console.error(`Error loading script: ${c}`),u(new Error(`Failed to load script: ${c}`))},p.appendChild(f)})}async function a(){if(t)return;const c=document.getElementById("threejs-container");if(!c){console.error("Three.js container not found.");return}console.log("Loading Three.js scripts for desktop...");try{for(const p of n)await r(p,c);t=!0,console.log("All Three.js scripts loaded and initialized.")}catch(p){console.error("Failed to load one or more Three.js scripts:",p)}}function l(){const c=document.getElementById("mobile-carousel-container");if(!c)return;const p=c.querySelectorAll(".carousel-slide");if(p.length===0)return;let d=0;p.forEach(f=>f.classList.remove("active")),p[d].classList.add("active");function u(){p[d].classList.remove("active"),d=(d+1)%p.length,p[d].classList.add("active")}i&&clearInterval(i),i=setInterval(u,2e4),console.log("Mobile carousel initialized.")}function s(){const c=document.getElementById("threejs-container"),p=document.getElementById("mobile-carousel-container"),d=document.querySelector(".hero .scroll-prompt");if(!c||!p){console.error("Hero background component containers not found.");return}window.innerWidth<=576?(console.log("Switching to mobile hero background (carousel)."),c.style.display="none",p.style.display="block",d&&(d.style.display="none"),l()):(console.log("Switching to desktop hero background (Three.js)."),p.style.display="none",i&&clearInterval(i),c.style.display="block",d&&(d.style.display="block"),t||a())}function g(){s();let c;return window.addEventListener("resize",()=>{clearTimeout(c),c=setTimeout(s,250)}),console.log("HeroBackgroundManager initialized."),!0}return{init:g}})(),H=(()=>{let o,t,i,e,n=!1,r;function a(){document.getElementById("portfolio-lightbox")||(o=document.createElement("div"),o.id="portfolio-lightbox",o.className="lightbox",i=document.createElement("div"),i.className="lightbox-content",e=document.createElement("button"),e.className="lightbox-close",e.innerHTML="×",e.setAttribute("aria-label","Close lightbox"),t=document.createElement("img"),t.className="lightbox-image",t.alt="Lightbox image",i.appendChild(t),o.appendChild(i),o.appendChild(e),document.body.appendChild(o),r=document.getElementById("page-content-wrapper"),r||console.warn('Lightbox: Element with ID "page-content-wrapper" not found. Background blur effect will not be applied.'),e.addEventListener("click",s),o.addEventListener("click",c=>{c.target===o&&s()}),document.addEventListener("keydown",c=>{c.key==="Escape"&&n&&s()}))}function l(c,p,d="expand"){if(o||a(),t.style.maxWidth="",t.style.maxHeight="",t.style.width="",t.style.height="",i.classList.remove("lightbox-content-scrollable"),o.classList.remove("lightbox-scrollable-wrapper"),t.src=c,t.alt=p||"Portfolio image detail",d==="seemore"&&(i.classList.add("lightbox-content-scrollable"),o.classList.add("lightbox-scrollable-wrapper")),document.body.classList.add("lightbox-open"),r&&r.classList.add("blurred"),n=!0,d==="seemore"){const u=o.classList.contains("lightbox-scrollable-wrapper")?o:i;u.scrollTop=0,u.scrollLeft=0}}function s(){!o||!n||(i&&i.classList.remove("lightbox-content-scrollable"),o.classList.remove("lightbox-scrollable-wrapper"),document.body.classList.remove("lightbox-open"),r&&r.classList.remove("blurred"),n=!1)}function g(){return o||a(),console.log("Lightbox initialized."),!0}return{init:g,open:l,close:s}})(),$={init:()=>{const t=document.getElementById("contact-form");if(!t)return!1;const i=document.getElementById("form-status-message");if(!i)return!1;const e=t.querySelector('button[type="submit"]');if(!e)return!1;const n=e.innerHTML;return t.addEventListener("submit",async function(r){r.preventDefault();const a=new FormData(t);e.disabled=!0;const l=e.querySelector(".plus-icon")?e.querySelector(".plus-icon").outerHTML:"";e.innerHTML=`
                Sending...
                <span class="plus" aria-hidden="true">
                    ${l}
                </span>`,e.classList.add("is-loading"),i.innerHTML="",i.className="";try{const s=await fetch(t.action,{method:t.method,body:a,headers:{Accept:"application/json"}});if(s.ok)i.innerHTML="Thank you! Your message has been sent successfully. We'll get back to you soon.",i.className="success",t.reset();else{const g=await s.json();let c="Oops! There was a problem submitting your form. Please try again.";g&&g.errors&&g.errors.length>0?c=g.errors.map(p=>p.message||p.field||"Error").join("<br>"):g&&g.error&&(c=g.error),i.innerHTML=c,i.className="error"}}catch(s){console.error("Form submission network error:",s),i.innerHTML="Oops! There was a network error. Please check your connection and try again.",i.className="error"}finally{e.disabled=!1,e.innerHTML=n,e.classList.remove("is-loading")}}),console.log("Contact Form module initialized successfully."),!0}};document.addEventListener("DOMContentLoaded",function(){console.log("DOM Content Loaded - Initializing modules...");const o=O.init();console.log("Hero Background Manager initialized:",o);const t=N.init();console.log("Header Scroll module initialized:",t);const i=k.init();console.log("Text Animator module initialized:",i);const e=S.init();console.log("Isotope Manager module initialized:",e),window.filterMenu=M;const n=M.init(S,k);console.log("Filter Menu module initialized:",n);const r=D.init();console.log("Accordion module initialized:",r);const a=F.init(S);console.log("Portfolio Loader module initialized:",a);const l=j.init();console.log("Smooth Scroll module initialized:",l);const s=H.init();console.log("Lightbox module initialized:",s);const g=$.init();console.log("Contact Form module initialized:",g),window.addEventListener("portfolioItemsLoadedAndLightboxDataReady",function(){console.log("Event: portfolioItemsLoadedAndLightboxDataReady received in main.js"),W()}),console.log("All primary modules initialized.")});function W(){const o=document.querySelectorAll(".portfolio-item");o.forEach(t=>{t.dataset.listenerAttached!=="true"&&(t.addEventListener("click",function(i){if(i.target.closest(".portfolio-info"))return;const e=this.dataset.lightboxType,n=this.dataset.imgSrc,r=this.dataset.lightboxImageSrc,a=this.dataset.altText;let l="";e==="expand"?l=n:e==="seemore"?l=r:l=n,l?H.open(l,a,e):console.warn("No image source found for lightbox for item:",this)}),t.dataset.listenerAttached="true")}),console.log(`Attached click listeners to ${o.length} portfolio items for lightbox.`)}window.addEventListener("load",function(){console.log("Window loaded - Finalizing initialization (if any needed)...")});
